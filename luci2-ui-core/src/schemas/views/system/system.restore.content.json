{
  "widget": "form",
  "content": [
    {
      "widget": "span",
      "options": {
        "text=": "_.files[0].name || 'Select file'"
      }
    },
    {
      "widget": "file-button",
      "bind": "_.files",
      "options": { "title": "Select" }
    },
    {
      "widget": "button",
      "options": { "title": "Cancel" },
      "events": { "onClick": "$dlg.close()" }
    },
    {
      "widget": "button",
      "options": {
        "title": "Upload",
        "disabled=": "!_.files || !_.files.length"
      },
      "events": {
        "onClick": [
          "cgi.upload('/tmp/testfile','666', _.files[0]) && ",
          "$dlg.close() && snackbar(`uploading ${_.files[0].name}`) "
        ]
      }
    }
  ]
}
